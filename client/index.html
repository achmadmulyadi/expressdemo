<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <title>DevExtreme Demo</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="https://cdn3.devexpress.com/jslib/23.1.4/css/dx.common.css">
    <link rel="stylesheet" href="https://cdn3.devexpress.com/jslib/23.1.4/css/dx.light.css">

    <!-- DevExtreme library -->
    <script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script type="text/javascript" src="https://cdn3.devexpress.com/jslib/23.1.4/js/dx.all.js"></script>
</head>

<body class="dx-viewport">
    <div class="demo-container">
        <div id="gridContainer"></div>

    </div>

    <script>
        $(document).ready(function () {
            loadData();
        });
        function loadData() {
            axios.defaults.baseURL = 'http://localhost:3000';
            axios.defaults.headers.common['Authorization'] = 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIwMTdAdGFzcGVuLmNvLmlkIiwiaWF0IjoxNjkxNjQwODY3LCJleHAiOjE2OTE3MjcyNjd9.qcc5DFxAfdvTBKX-q1M-wewF95c2hI2Er773U8TH4IQ';
            //axios.defaults.headers.post['Content-Type'] = 'application/json';
            axios.get('/api/v1/users')
                .then(function (response) {
                    $("#gridContainer").dxDataGrid({
                        dataSource: {
                            store: response.data.data
                        },
                        showRowLines: true,
                        rowAlternationEnabled: true,
                        showBorders: true,
                        headerFilter: {
                            visible: true
                        },
                        allowHeaderFiltering: true,
                        filterRow: {
                            visible: true
                        },
                        showBorders: true,
                        allowColumnReordering: true,
                        allowColumnResizing: true,
                        columnAutoWidth: true,
                        dateSerializationFormat: "yyyy-MM-dd HH:mm:ss",
                        forceIsoDateParsing: true,
                        allowSearching: true,
                        export: {
                            enabled: true
                        },
                        columnChooser: {
                            enabled: true
                        },

                        paging: {
                            pageSize: 10
                        },
                        pager: {
                            showPageSizeSelector: true,
                            allowedPageSizes: [10, 30, 50]
                        },

                        columns: [{
                            dataField: "USERID",
                            dataType: "string",
                            headerFilter: {
                                allowSearch: true
                            }
                        },
                        {
                            dataField: "USERNAME",
                            dataType: "string",
                            headerFilter: {
                                allowSearch: true
                            }
                        },
                        ],



                    }).dxDataGrid("instance");
                })
                .catch(function (error) {
                })
                .then(function () {
                });


        };

    </script>
</body>

</html>